# eleventy ([11ty.dev](https://11ty.dev)) index layout

This sample documents the core ingredients needed to cook up a production Web site based on the [Publications Index](http://songhayblog.azurewebsites.net/entry/2020-12-24-songhay-publications-and-the-concept-of-the-index) data of my Studio.

The Publications Index indexes a _Presentation_. To mark this, we start with the `presentation/` folder and place the Publications Index file, `index.json`, in the conventional, eleventy `_data/` [folder](./index-11ty/presentation/_data).

In the bash shell, we can generate the conventional eleventy files (with respect to the `index-11ty/` [folder](./index-11ty)):

```bash
touch \
    presentation/_data/settings.json \
    presentation/.eleventyignore \
    presentation/.eleventy.js \
    presentation/index.html
```

All of these files (except for `presentation/index.html`) will be filled out based on previous work with eleventy in this Studio and ongoing research. The `presentation/index.html` file is copied from the `responsive-layouts/index/` [folder](./index) to be modified for eleventy static file generation.

## choosing liquid templates in eleventy

The `presentation/index.html` file can be decomposed into liquid [snippets](https://www.shopify.com/partners/blog/88186566-tips-for-using-snippets-in-your-shopify-theme) with the conventional `_includes` folder:

```bash
touch \
    presentation/_includes/head.liquid \
    presentation/_includes/body-svg.liquid \
    presentation/_includes/body-header.liquid \
    presentation/_includes/body-main-section.liquid \
    presentation/_includes/body-main-aside.liquid \
    presentation/_includes/body-footer.liquid
```

The `body-main-aside.liquid` snippet includes the content under `body > main > aside` which is an optional right-hand column for wide displays. The `body-main-section.liquid` snippet includes the content under `body > main > section` which is the whole point of this exercise: the main `section` holds the display of Publications Index data, linking to Publications segments.

## using eleventy pagination to generate Publications segments

The eleventy static site generator generates HTML files from:

1. instances of `TemplateCollection` [[GitHub](https://github.com/11ty/eleventy/blob/master/src/TemplateCollection.js)] (which are ultimately related to files, like markdown files).
2. Pagination [üìñ [docs](https://www.11ty.dev/docs/pages-from-data/#create-pages-from-data)] which, in this Studio, ultimately depends on Publications Index data in the `index.json` [file](./presentation/_data/index.json).

The `.presentation/segments` [folder](./presentation/segments) contains three hand-made pagination templates, rendering all of the `Document` information of the segments under the three top-level segments of the Publications Index data used in this sample. Although these templates are hand made, I remind myself that these templates could be generated by some Publications Activity written in C#. In the meantime, we can run this in bash to start the handiwork:

```bash
touch \
    presentation/segments/segment-00.html \
    presentation/segments/segment-01.html \
    presentation/segments/segment-02.html \
    presentation/segments/segment-base.html
```

where the `segment-nn.html` files all depend on `segment-base.html` layout. All of these `segment-nn.html` files are identical except for the `pagination.data` property in the front matter:

```plaintext
---
layout: segment-base.html
pagination:
    data: index[0].segments
    size: 1
    alias: segment
permalink: "index/{{ segment.segmentName | slug }}/"
---
```

There are three `segment-nn.html` files in this sample which corresponds to the three top-level segments of this Presentation Index.

## Material Typography

This sample depends on `@material/typography` [üêôüêà[GitHub](https://github.com/material-components/material-components-web/tree/master/packages/mdc-typography)], specifically its [style customization](https://github.com/material-components/material-components-web/tree/master/packages/mdc-typography#style-customization):

```html
<body class="mdc-typography">
    <main>
        <section>
            <details>
                <summary>
                    <h2 class="mdc-typography--headline2"></h2>
                </summary>
                <ul>
                    <li class="mdc-typography--headline3"></li>
                </ul>
            </details>
        </section>
    </main>
</body>
```

The `mdc-typography--headline1` class (or its equivalent) would be declared in the `body > header`.

## related links

- [eleventy liquid template supported features](https://www.11ty.dev/docs/languages/liquid/#supported-features)
- ‚Äú[Tips for Using Snippets in Your Shopify Theme](https://www.shopify.com/partners/blog/88186566-tips-for-using-snippets-in-your-shopify-theme)‚Äù
- ‚Äú[Create Pages from Data](https://www.11ty.dev/docs/pages-from-data/#create-pages-from-data)‚Äù
- ‚Äú[Custom Collections](https://www.pborenstein.com/posts/collections/#custom-collections)‚Äù
- [eleventy starter projects](https://www.11ty.dev/docs/starter/)

@[BryanWilhite](https://twitter.com/BryanWilhite)
